[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.

[GIN-debug] [WARNING] Running in "debug" mode. Switch to "release" mode in production.
 - using env:	export GIN_MODE=release
 - using code:	gin.SetMode(gin.ReleaseMode)

[GIN-debug] GET    /assets/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] HEAD   /assets/*filepath         --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] GET    /                         --> main.main.(*RouterGroup).StaticFile.func14 (4 handlers)
[GIN-debug] HEAD   /                         --> main.main.(*RouterGroup).StaticFile.func14 (4 handlers)
[GIN-debug] GET    /storage/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] HEAD   /storage/*filepath        --> github.com/gin-gonic/gin.(*RouterGroup).createStaticHandler.func1 (4 handlers)
[GIN-debug] POST   /api/v1/poc/jobs          --> main.main.func1 (4 handlers)
[GIN-debug] GET    /api/v1/poc/jobs/:jobId   --> main.main.func2 (4 handlers)
[GIN-debug] GET    /api/v1/poc/jobs          --> main.main.func3 (4 handlers)
[GIN-debug] GET    /api/health               --> main.main.func4 (4 handlers)
[GIN-debug] POST   /api/v2/story/projects    --> main.main.func5 (4 handlers)
[GIN-debug] POST   /api/v2/story/projects/:projectId/ending-image --> main.main.func6 (4 handlers)
[GIN-debug] POST   /api/v2/story/projects/:projectId/owner-message --> main.main.func7 (4 handlers)
[GIN-debug] POST   /api/v2/story/projects/:projectId/videos --> main.main.func8 (4 handlers)
[GIN-debug] POST   /api/v2/story/projects/:projectId/generate --> main.main.func9 (4 handlers)
[GIN-debug] GET    /api/v2/story/projects/:projectId --> main.main.func10 (4 handlers)
[GIN-debug] GET    /api/v2/story/projects    --> main.main.func11 (4 handlers)
2025/12/08 20:38:18 Server starting on port 8080
[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.
Please check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.
[GIN-debug] Listening and serving HTTP on :8080
[GIN] 2025/12/08 - 20:38:26 | 200 |      163.75Âµs |             ::1 | GET      "/api/health"
[GIN] 2025/12/08 - 20:38:47 | 200 |     246.709Âµs |             ::1 | POST     "/api/v2/story/projects"
[GIN] 2025/12/08 - 20:38:47 | 200 |  489.934625ms |             ::1 | POST     "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e/videos"
2025/12/08 20:38:47 Ending image saved for project 1203bae6-1768-4f75-a7c7-d21503850d0e: storage/projects/1203bae6-1768-4f75-a7c7-d21503850d0e/ending_image.jpg
[GIN] 2025/12/08 - 20:38:47 | 200 |     316.291Âµs |             ::1 | POST     "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e/ending-image"
[GIN] 2025/12/08 - 20:38:47 | 200 |        13.5Âµs |             ::1 | POST     "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e/generate"
2025/12/08 20:38:47 Processing project 1203bae6-1768-4f75-a7c7-d21503850d0e with 5 videos
2025/12/08 20:38:47 Analyzing video 37f8fa8f-598c-4884-87d1-297ad3c76b05 (786639289.386967.mp4)
2025/12/08 20:38:47 Owner message saved for project 1203bae6-1768-4f75-a7c7-d21503850d0e: å¯¶è²ï¼Œè¬è¬ä½ ä¾†åˆ°æˆ‘çš„ç”Ÿå‘½ä¸­ï¼Œæˆ‘æœƒæ°¸é æ„›ä½ ï¼
[GIN] 2025/12/08 - 20:38:47 | 200 |          88Âµs |             ::1 | POST     "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e/owner-message"
[GIN] 2025/12/08 - 20:38:47 | 200 |      26.167Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:38:48 Extracted 12 frames from video 37f8fa8f-598c-4884-87d1-297ad3c76b05
2025/12/08 20:38:48 Video 37f8fa8f-598c-4884-87d1-297ad3c76b05: Analyzing with 10 images (total frames: 12)
2025/12/08 20:38:48 Successfully compressed 10 images for video 37f8fa8f-598c-4884-87d1-297ad3c76b05
[GIN] 2025/12/08 - 20:38:52 | 200 |      147.25Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:38:56 âœ… Video 37f8fa8f-598c-4884-87d1-297ad3c76b05 analyzed: has_dog=true, has_human=true, interaction=cuddling, emotion=happy, caption=å¤œæ™šä¸»äººæŠ±ç‹—è¦ªæš±äº’å‹•ï¼Œç‹—é–‹å¿ƒèˆ”è‡‰
2025/12/08 20:38:56 Analyzed video 37f8fa8f-598c-4884-87d1-297ad3c76b05: 4 segments, 1 highlights
2025/12/08 20:38:56 Analyzing video b339074a-e9ce-4afd-8b48-1663e73c3daa (786639326.131658.mp4)
2025/12/08 20:38:56 Extracted 33 frames from video b339074a-e9ce-4afd-8b48-1663e73c3daa
2025/12/08 20:38:56 Video b339074a-e9ce-4afd-8b48-1663e73c3daa: Analyzing with 10 images (total frames: 33)
2025/12/08 20:38:57 Successfully compressed 10 images for video b339074a-e9ce-4afd-8b48-1663e73c3daa
[GIN] 2025/12/08 - 20:38:57 | 200 |     235.042Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:39:02 | 200 |     246.709Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:39:04 âœ… Video b339074a-e9ce-4afd-8b48-1663e73c3daa analyzed: has_dog=true, has_human=true, interaction=playing, emotion=happy, caption=å°ç‹—åœ¨åºŠä¸Šèˆ‡ä¸»äººç©è€ï¼Œæœ€å¾Œè¢«æŠ±å…¥ç‹—çª©
2025/12/08 20:39:04 Analyzed video b339074a-e9ce-4afd-8b48-1663e73c3daa: 11 segments, 1 highlights
2025/12/08 20:39:04 Analyzing video 407f3fb0-a389-458f-9a63-b2969d876e6b (786639326.180172.mp4)
2025/12/08 20:39:04 Extracted 11 frames from video 407f3fb0-a389-458f-9a63-b2969d876e6b
2025/12/08 20:39:04 Video 407f3fb0-a389-458f-9a63-b2969d876e6b: Analyzing with 10 images (total frames: 11)
2025/12/08 20:39:04 Successfully compressed 10 images for video 407f3fb0-a389-458f-9a63-b2969d876e6b
[GIN] 2025/12/08 - 20:39:07 | 200 |      88.375Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:39:09 âœ… Video 407f3fb0-a389-458f-9a63-b2969d876e6b analyzed: has_dog=true, has_human=true, interaction=cuddling, emotion=calm, caption=ç‹—ç‹—åœ¨ä¸»äººæ‡·ä¸­å®‰ç©©ä¼‘æ¯
2025/12/08 20:39:09 Analyzed video 407f3fb0-a389-458f-9a63-b2969d876e6b: 4 segments, 1 highlights
2025/12/08 20:39:09 Analyzing video d0fb4d66-d05e-4852-81d1-ebf871737014 (786648877.005224.mp4)
2025/12/08 20:39:10 Extracted 15 frames from video d0fb4d66-d05e-4852-81d1-ebf871737014
2025/12/08 20:39:10 Video d0fb4d66-d05e-4852-81d1-ebf871737014: Analyzing with 10 images (total frames: 15)
2025/12/08 20:39:10 Successfully compressed 10 images for video d0fb4d66-d05e-4852-81d1-ebf871737014
[GIN] 2025/12/08 - 20:39:12 | 200 |     353.917Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:39:17 | 200 |     460.625Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:39:17 âœ… Video d0fb4d66-d05e-4852-81d1-ebf871737014 analyzed: has_dog=true, has_human=true, interaction=playing, emotion=excited, caption=æ´»æ½‘å°ç‹—èˆ‡ä¸»äººç©è€äº’å‹•
2025/12/08 20:39:17 Analyzed video d0fb4d66-d05e-4852-81d1-ebf871737014: 5 segments, 1 highlights
2025/12/08 20:39:17 Analyzing video 019a818a-af7b-4079-8b4c-f536fd4e82ea (786648896.976533.mp4)
2025/12/08 20:39:18 Extracted 20 frames from video 019a818a-af7b-4079-8b4c-f536fd4e82ea
2025/12/08 20:39:18 Video 019a818a-af7b-4079-8b4c-f536fd4e82ea: Analyzing with 10 images (total frames: 20)
2025/12/08 20:39:19 Successfully compressed 10 images for video 019a818a-af7b-4079-8b4c-f536fd4e82ea
[GIN] 2025/12/08 - 20:39:22 | 200 |     478.583Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:39:23 âœ… Video 019a818a-af7b-4079-8b4c-f536fd4e82ea analyzed: has_dog=true, has_human=true, interaction=cuddling, emotion=happy, caption=äººç‹—é–‹è»Šå‡ºéŠï¼Œç‹—ç‹—é–‹å¿ƒä¾å
2025/12/08 20:39:23 Analyzed video 019a818a-af7b-4079-8b4c-f536fd4e82ea: 7 segments, 1 highlights
2025/12/08 20:39:23 âœ… Successfully analyzed 5/5 videos
2025/12/08 20:39:23 Generating story for project 1203bae6-1768-4f75-a7c7-d21503850d0e with AI
[GIN] 2025/12/08 - 20:39:27 | 200 |      414.75Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:39:32 Story AI response content: {
  "title": "çµ¦ä¸»äººçš„å‘Šç™½",
  "chapters": [
    {
      "narration": "ä¸»äººï¼Œä½ çš„ç¬‘å®¹æ˜¯æˆ‘çš„é™½å…‰ã€‚æˆ‘æœ€å–œæ­¡è¦ªè¦ªä½ ï¼ŒæŠŠæ‰€æœ‰çš„æ„›éƒ½èˆ”çµ¦ä½ ï¼Œè®“ä½ æ„Ÿå—æˆ‘çš„é–‹å¿ƒï¼",
      "video_index": 0,
      "highlight_index": 0
    },
    {
      "narration": "å’Œä½ ä¸€èµ·åœ¨åºŠä¸Šç©è€ï¼Œæ˜¯æˆ‘ä¸€å¤©ä¸­æœ€æ£’çš„æ™‚å…‰ï¼å³ä½¿è¢«æŠ±å›çª©ï¼Œæˆ‘ä¹ŸçŸ¥é“ä½ æœƒä¸€ç›´åœ¨èº«é‚Šã€‚",
      "video_index": 1,
      "highlight_index": 0
    },
    {
      "narration": "åœ¨ä½ æº«æš–çš„æ‡·æŠ±è£¡ï¼Œæˆ‘æ„Ÿåˆ°å‰æ‰€æœªæœ‰çš„å®‰å¿ƒã€‚ä¸–ç•Œå†å¤§ï¼Œæœ‰ä½ æŠ±è‘—ï¼Œå°±æ˜¯æˆ‘æœ€å¹³éœçš„æ¸¯ç£ã€‚",
      "video_index": 2,
      "highlight_index": 0
    },
    {
      "narration": "æ¯æ¬¡ä½ é™ªæˆ‘ç©ï¼Œæˆ‘çš„å¿ƒéƒ½å¿«è¦è·³å‡ºä¾†äº†ï¼å¥”è·‘ã€è¿½é€ï¼Œæœ‰ä½ åœ¨ï¼Œæˆ‘çš„ä¸–ç•Œæ°¸é å……æ»¿é©šå–œå’Œæ´»åŠ›ï¼",
      "video_index": 3,
      "highlight_index": 0
    },
    {
      "narration": "ç„¡è«–å»å“ªï¼Œåªè¦æœ‰ä½ åœ¨ï¼Œå°±æ˜¯æœ€ç¾çš„æ—…ç¨‹ã€‚ä¸»äººï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€çè²´çš„ç¦®ç‰©ï¼Œæˆ‘æ°¸é æ„›ä½ ã€‚",
      "video_index": 4,
      "highlight_index": 0
    }
  ]
}
2025/12/08 20:39:32 Generated story with 5 chapters
2025/12/08 20:39:32 Generating dog response for project 1203bae6-1768-4f75-a7c7-d21503850d0e
[GIN] 2025/12/08 - 20:39:32 | 200 |     448.708Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:39:36 Warning: Failed to generate dog response: no response from AI
2025/12/08 20:39:36 Generating TTS for chapter 1: ä¸»äººï¼Œä½ çš„ç¬‘å®¹æ˜¯æˆ‘çš„é™½å…‰ã€‚æˆ‘æœ€å–œæ­¡è¦ªè¦ªä½ ï¼ŒæŠŠæ‰€æœ‰çš„æ„›éƒ½èˆ”çµ¦ä½ ï¼Œè®“ä½ æ„Ÿå—æˆ‘çš„é–‹å¿ƒï¼
2025/12/08 20:39:36 Warning: TTS generation failed for chapter 0: TTS API error 403: {
  "error": {
    "code": 403,
    "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.",
    "status": "PERMISSION_DENIED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "SERVICE_DISABLED",
        "domain": "googleapis.com",
        "metadata": {
          "serviceTitle": "Cloud Text-to-Speech API",
          "service": "texttospeech.googleapis.com",
          "containerInfo": "257160429328",
          "consumer": "projects/257160429328",
          "activationUrl": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Google developers console API activation",
            "url": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328"
          }
        ]
      }
    ]
  }
}
2025/12/08 20:39:36 Generating TTS for chapter 2: å’Œä½ ä¸€èµ·åœ¨åºŠä¸Šç©è€ï¼Œæ˜¯æˆ‘ä¸€å¤©ä¸­æœ€æ£’çš„æ™‚å…‰ï¼å³ä½¿è¢«æŠ±å›çª©ï¼Œæˆ‘ä¹ŸçŸ¥é“ä½ æœƒä¸€ç›´åœ¨èº«é‚Šã€‚
2025/12/08 20:39:36 Warning: TTS generation failed for chapter 1: TTS API error 403: {
  "error": {
    "code": 403,
    "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.",
    "status": "PERMISSION_DENIED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "SERVICE_DISABLED",
        "domain": "googleapis.com",
        "metadata": {
          "activationUrl": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328",
          "consumer": "projects/257160429328",
          "containerInfo": "257160429328",
          "service": "texttospeech.googleapis.com",
          "serviceTitle": "Cloud Text-to-Speech API"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Google developers console API activation",
            "url": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328"
          }
        ]
      }
    ]
  }
}
2025/12/08 20:39:36 Generating TTS for chapter 3: åœ¨ä½ æº«æš–çš„æ‡·æŠ±è£¡ï¼Œæˆ‘æ„Ÿåˆ°å‰æ‰€æœªæœ‰çš„å®‰å¿ƒã€‚ä¸–ç•Œå†å¤§ï¼Œæœ‰ä½ æŠ±è‘—ï¼Œå°±æ˜¯æˆ‘æœ€å¹³éœçš„æ¸¯ç£ã€‚
2025/12/08 20:39:36 Warning: TTS generation failed for chapter 2: TTS API error 403: {
  "error": {
    "code": 403,
    "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.",
    "status": "PERMISSION_DENIED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "SERVICE_DISABLED",
        "domain": "googleapis.com",
        "metadata": {
          "containerInfo": "257160429328",
          "serviceTitle": "Cloud Text-to-Speech API",
          "activationUrl": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328",
          "service": "texttospeech.googleapis.com",
          "consumer": "projects/257160429328"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Google developers console API activation",
            "url": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328"
          }
        ]
      }
    ]
  }
}
2025/12/08 20:39:36 Generating TTS for chapter 4: æ¯æ¬¡ä½ é™ªæˆ‘ç©ï¼Œæˆ‘çš„å¿ƒéƒ½å¿«è¦è·³å‡ºä¾†äº†ï¼å¥”è·‘ã€è¿½é€ï¼Œæœ‰ä½ åœ¨ï¼Œæˆ‘çš„ä¸–ç•Œæ°¸é å……æ»¿é©šå–œå’Œæ´»åŠ›ï¼
2025/12/08 20:39:36 Warning: TTS generation failed for chapter 3: TTS API error 403: {
  "error": {
    "code": 403,
    "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.",
    "status": "PERMISSION_DENIED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "SERVICE_DISABLED",
        "domain": "googleapis.com",
        "metadata": {
          "activationUrl": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328",
          "containerInfo": "257160429328",
          "consumer": "projects/257160429328",
          "service": "texttospeech.googleapis.com",
          "serviceTitle": "Cloud Text-to-Speech API"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Google developers console API activation",
            "url": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328"
          }
        ]
      }
    ]
  }
}
2025/12/08 20:39:36 Generating TTS for chapter 5: ç„¡è«–å»å“ªï¼Œåªè¦æœ‰ä½ åœ¨ï¼Œå°±æ˜¯æœ€ç¾çš„æ—…ç¨‹ã€‚ä¸»äººï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€çè²´çš„ç¦®ç‰©ï¼Œæˆ‘æ°¸é æ„›ä½ ã€‚
2025/12/08 20:39:36 Warning: TTS generation failed for chapter 4: TTS API error 403: {
  "error": {
    "code": 403,
    "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry.",
    "status": "PERMISSION_DENIED",
    "details": [
      {
        "@type": "type.googleapis.com/google.rpc.ErrorInfo",
        "reason": "SERVICE_DISABLED",
        "domain": "googleapis.com",
        "metadata": {
          "activationUrl": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328",
          "consumer": "projects/257160429328",
          "containerInfo": "257160429328",
          "service": "texttospeech.googleapis.com",
          "serviceTitle": "Cloud Text-to-Speech API"
        }
      },
      {
        "@type": "type.googleapis.com/google.rpc.LocalizedMessage",
        "locale": "en-US",
        "message": "Cloud Text-to-Speech API has not been used in project 257160429328 before or it is disabled. Enable it by visiting https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328 then retry. If you enabled this API recently, wait a few minutes for the action to propagate to our systems and retry."
      },
      {
        "@type": "type.googleapis.com/google.rpc.Help",
        "links": [
          {
            "description": "Google developers console API activation",
            "url": "https://console.developers.google.com/apis/api/texttospeech.googleapis.com/overview?project=257160429328"
          }
        ]
      }
    ]
  }
}
2025/12/08 20:39:36 Compositing final video for project 1203bae6-1768-4f75-a7c7-d21503850d0e (with transitions, subtitles and music)
2025/12/08 20:39:36 Step 1: Creating video segments with transitions and TTS audio
2025/12/08 20:39:36 Creating video segments with fade transitions and TTS audio
[GIN] 2025/12/08 - 20:39:37 | 200 |     978.625Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:39:42 | 200 |     234.292Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:39:47 | 200 |     126.791Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:39:49 âœ… Created video with transitions and TTS audio
2025/12/08 20:39:49 Step 2: Adding ending image with dog response
2025/12/08 20:39:49 Adding ending image with owner message and dog response
2025/12/08 20:39:49 Generating TTS for owner message: å¯¶è²ï¼Œè¬è¬ä½ ä¾†åˆ°æˆ‘çš„ç”Ÿå‘½ä¸­ï¼Œæˆ‘æœƒæ°¸é æ„›ä½ ï¼
2025/12/08 20:39:49 Generating TTS for dog response: ä¸»äººï¼Œæˆ‘æ„›ä½ ï¼
2025/12/08 20:39:49 Ending without audio - using fixed duration: 10.00s
2025/12/08 20:39:51 âœ… Added ending image with duration 10.00s
2025/12/08 20:39:51 Step 3: Adding subtitles
2025/12/08 20:39:51 Adding subtitles to video for project 1203bae6-1768-4f75-a7c7-d21503850d0e
[GIN] 2025/12/08 - 20:39:52 | 200 |     273.833Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:39:57 | 200 |     247.667Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:39:58 | 200 |       279.5Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:40:02 | 200 |       229.5Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:40:07 | 200 |     117.166Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
2025/12/08 20:40:07 âœ… Added subtitles for project 1203bae6-1768-4f75-a7c7-d21503850d0e (including ending)
2025/12/08 20:40:07 Step 4: Adding background music
2025/12/08 20:40:07 Adding background music to video for project 1203bae6-1768-4f75-a7c7-d21503850d0e
2025/12/08 20:40:07 ğŸµ Checking for specific BGM file: ./ç‹—ç‹—å½±ç‰‡/bibi-pianopachelbels-canon-ç»ˆäºå¼¹äº†è¿™é¦–-ä¸–ç•Œä¸Šæœ€æ²»æ„ˆçš„é’¢ç´æ›²å¡å†œ.mp3
2025/12/08 20:40:07 âœ… Found specific BGM file: ./ç‹—ç‹—å½±ç‰‡/bibi-pianopachelbels-canon-ç»ˆäºå¼¹äº†è¿™é¦–-ä¸–ç•Œä¸Šæœ€æ²»æ„ˆçš„é’¢ç´æ›²å¡å†œ.mp3 (size: 5214241 bytes)
2025/12/08 20:40:08 ğŸ“– Successfully read BGM file, size: 5214241 bytes
2025/12/08 20:40:08 âœ… Successfully copied BGM to: storage/projects/1203bae6-1768-4f75-a7c7-d21503850d0e/background_music.mp3 (size: 5214241 bytes)
2025/12/08 20:40:08 Audio mix failed, trying direct add: exit status 234
2025/12/08 20:40:08 Added background music for project 1203bae6-1768-4f75-a7c7-d21503850d0e
2025/12/08 20:40:08 âœ… Created final video with all effects for project 1203bae6-1768-4f75-a7c7-d21503850d0e
2025/12/08 20:40:08 Project 1203bae6-1768-4f75-a7c7-d21503850d0e completed successfully
[GIN] 2025/12/08 - 20:40:12 | 200 |     480.083Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:40:34 | 200 |     317.167Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 20:41:12 | 200 |     120.375Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
[GIN] 2025/12/08 - 21:06:48 | 200 |     901.292Âµs |             ::1 | GET      "/api/v2/story/projects/1203bae6-1768-4f75-a7c7-d21503850d0e"
