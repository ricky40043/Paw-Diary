# =============================================================================
# Render Blueprint - Infrastructure as Code
# https://render.com/docs/blueprint-spec
# =============================================================================

services:
  - type: web
    name: paw-diary
    runtime: docker
    # Render will auto-detect Dockerfile in root
    dockerfilePath: ./Dockerfile
    
    # Region (Oregon is default, closest to Asia: Singapore)
    region: singapore
    
    # Instance type (free tier available)
    plan: free
    
    # Auto-deploy on push to main branch
    autoDeploy: true
    
    # Environment variables
    envVars:
      - key: PORT
        value: 8080
      - key: STORAGE_PATH
        value: ./storage
      - key: AI_API_KEY
        sync: false  # Must be set manually in Render Dashboard (secret)
      - key: AI_API_ENDPOINT
        value: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent
    
    # Health check path
    healthCheckPath: /api/health
